# 1. Amazon Elastic Compute Cloud (Amazon EC2)

**Amazon EC2**는 클라우드에서 안전하고 크기 조정 가능한 컴퓨팅 용량을 제공하는 웹 서비스입니다. AWS EC2 인스턴스 유형은 다양한 사용 사례와 워크로드를 지원하도록 설계되었습니다. 각 인스턴스 유형은 CPU, 메모리, 스토리지 및 네트워킹 용량의 서로 다른 조합을 제공하여 다양한 애플리케이션과 사용 사례를 충족합니다. EC2 인스턴스 유형의 명명법은 인스턴스의 기능을 나타내는 특정 패턴을 따릅니다. 이를 통해 EC2 인스턴스라는 가상 서버를 프로비저닝할 수 있습니다. AWS는 이를 설명하기 위해 "웹 서비스"라는 문구를 사용하지만, EC2 인스턴스에서 웹 서버만 실행하는 것으로 제한되지는 않습니다.

Amazon EC2는 Amazon Machine Images(AMI)를 사용하여 AWS Marketplace를 통해 사용할 수 있는 AWS Marketplace를 통해 제공되는 만큼 지불 가격과 다양한 하드웨어 및 소프트웨어를 제공합니다.

EC2 인스턴스를 생성하려면 다음을 정의해야 합니다.
* CPU, 메모리, 네트워크 및 스토리지와 같은 하드웨어 사양
* 네트워킹 위치, 방화벽 규칙, 인증 및 선택한 운영 체제와 같은 논리적 구성

EC2 인스턴스를 시작할 때, 구성하는 첫 번째 설정은 Amazon Machine Image(AMI)를 선택하여 원하는 운영체제입니다.
![image](https://github.com/user-attachments/assets/156a6fa9-b516-4de6-a800-5ec3e7a7e4de)
</br></br>


## Amazon EC2 인스턴스 유형(TYPE)
올바른 유형을 선택하는 것은 인스턴스를 효율적으로 사용하고 비용을 절감하는 데 매우 중요합니다.
![image](https://github.com/user-attachments/assets/361e09ef-2633-4e92-8835-2b24ef343c18)

### **EC2 인스턴스 유형의 명명법**
EC2 인스턴스에 대한 명명 규칙은 다음과 같습니다.

**[인스턴스 패밀리][세대][크기]**

예를 들어, **c5.xlarge**:
  - `c` = 인스턴스 제품군 (컴퓨팅 최적화 목적)
  - `5` = 세대 (`c` 시리즈의 5세대)
  - `xlarge` = 크기 (이 인스턴스 제품군에 사용할 수 있는 가장 큰 크기)

이것을 더 자세히 확인해 보도록 합니다.
</br></br>

## **01. EC2 인스턴스 Families**
각 EC2 인스턴스 제품군은 특정 유형의 워크로드에 최적화되어 있습니다. 다음은 일반적인 인스턴스 제품군과 사용 사례입니다.

| 가족 | 카테고리 | 사용 사례 |
|--------|--------------------------------|------------------------------------------------|
| **t** | 범용 | 웹 서버, 소규모 데이터베이스, 개발 환경, 마이크로서비스 |
| **m** | 범용 | 애플리케이션 서버, 백엔드 서비스, 미디엄 데이터베이스, 엔터프라이즈 앱 |
| **c** | 컴퓨팅 최적화 | 고성능 컴퓨팅(HPC), 과학적 모델링, 미디어 트랜스코딩 |
| **r** | 메모리 최적화 | 인메모리 데이터베이스, 실시간 빅 데이터 분석, 고성능 데이터베이스 |
| **x** | 높은 메모리 | SAP HANA와 같은 대규모 인메모리 데이터베이스 |
| **p** | 가속 컴퓨팅(GPU) | 머신 러닝, AI 교육, 비디오 렌더링, 고성능 그래픽 |
| **g** | 그래픽 집약적(GPU) | 게임, 기계 학습 추론, 그래픽 렌더링 |
| **i** | 스토리지 최적화 (높은 I/O) | 높은 트랜잭션 데이터베이스, NoSQL, 스토리지 집약적인 앱 |
| **d** | 고밀도 스토리지 최적화 | 데이터 웨어하우스, 하둡 클러스터, 분산 파일 시스템 |
| **z** | 고성능 및 메모리 최적화| 고성능 컴퓨팅(HPC) 워크로드, 전자 설계 자동화 |
| **a** | Arm 기반 | 웹 서버, 컨테이너화된 마이크로서비스, Arm 호환 애플리케이션 |
| **h** | 스토리지 최적화 | 분산 파일 시스템과 같은 스토리지가 많은 워크로드 |

</br>

## **2. Generation**
각 인스턴스 제품군은 시간이 지남에 따라 업데이트를 거치며, 결과적으로 다른 세대가 발생합니다.
  - 예를 들어, `m5`는 **m** 패밀리 인스턴스의 5세대입니다.
  - 최신 세대는 일반적으로 향상된 성능, 효율성 및 더 나은 비용 최적화를 제공합니다.

</br>

## **3. Size**
EC2 인스턴스는 다양한 크기로 제공되며, 이는 제공하는 CPU 및 메모리의 양을 나타냅니다. 크기는 일반적으로 다음을 포함합니다.
  - `나노`, `마이크로`, `소형`, `중간`, `대형`, `xlarge`, `2xlarge`, `4xlarge` 등.

크기가 올라갈 때마다 CPU와 메모리 리소스가 이전 크기보다 대략 두 배가 됩니다.

</br>

### **예시 분석:**
  - **t3.마이크로**
    - `t` = 범용(CPU, 메모리 및 네트워킹 간의 균형)
    -  `3` = `t` 인스턴스의 3세대
    - `micro` = 사용 가능한 가장 작은 크기, 가벼운 응용 프로그램에 적합

</br>

### **EC2 인스턴스 유형 및 사용 사례**
1. **범용 사례:**
  - **t3, t4g, m6i, m5**
  - **사용 사례:** 웹 서버, 개발 환경, 앱 서버, 소형 데이터베이스.
  - **예:** t3.micro는 소규모 웹 애플리케이션과 트래픽이 적은 웹사이트에 이상적입니다.

2. **최적화된 인스턴스 계산:**
  - **c7g, c6g, c5**
  - **사용 사례:** 고성능 컴퓨팅, 과학적 모델링, 배치 처리.
  - **예:** 배치 처리 또는 분석과 같은 CPU 바운드 작업을 위한 c5.large.

3. **메모리 최적화 인스턴스:**
  - **r6g, r5, x1e**
  - **사용 사례:** 고성능 데이터베이스, 인메모리 데이터베이스와 같은 메모리 집약적인 애플리케이션.
  - **예:** 메모리 내 데이터 처리 또는 Redis 캐시를 위한 r5.large.

4. **가속 컴퓨팅(GPU) 인스턴스:**
  - **p4, g5, g4**
  - **사용 사례:** 기계 학습, 인공 지능, 그래픽 렌더링, 게임.
  - **예:** 기계 학습 모델 교육을 위한 p4d 또는 실시간 비디오 처리를 위한 g5.

5. **스토리지 최적화 인스턴스:**
  - **i3, d2, h1**
  - **사용 사례:** 데이터 웨어하우징 또는 대규모 데이터베이스와 같은 스토리지가 많은 응용 프로그램.
  - **예:** NoSQL 데이터베이스와 같은 높은 I/O 워크로드를 위한 i3.4xlarge.

</br>

## **결론:**
  - **인스턴스 패밀리**는 인스턴스가 최적화된 워크로드 유형을 알려줍니다.
  - **세대**는 최신 세대가 더 나은 성능을 제공하는 버전을 알려줍니다.
  - **크기**는 해당 인스턴스에 할당된 리소스(CPU, 메모리)의 양을 결정합니다.

컴퓨팅, 메모리 또는 스토리지 최적화와 같은 워크로드 요구 사항에 따라 올바른 EC2 인스턴스 유형을 선택하고 적절한 크기를 선택하여 확장 또는 축소합니다.

</br>

# Amazon EC2 Instance Lifecycle
아마존 EC2 인스턴스는 시작하는 순간부터 종료까지 다른 상태를 통해 전환됩니다.

| **인스턴스 상태** | **설명** | **인스턴스 사용 청구** |
| ------------------------------------- | ---------------- | --------------------------------- |
| **`Pending`** | 인스턴스는 `실행' 상태에 들어갈 준비를 하고 있다. 인스턴스는 처음 시작할 때, 또는 `중지된` 상태가 된 후 시작될 때 `보류 중` 상태로 들어갑니다. | 청구되지 않음 |
| **`running`** | 인스턴스가 실행 중이며 사용할 준비가 되었습니다. | 청구됨 |
| **`Stopping`** | 인스턴스가 중지되거나 정지 동면될 준비를 하고 있습니다. | 중지를 준비하는 경우 청구되지 않음 |
| **`stopped`** | 인스턴스가 종료되어 사용할 수 없습니다. 인스턴스는 언제든지 시작할 수 있습니다. | 청구되지 않음 |
| **`shutting-down`** | 인스턴스가 종료될 준비를 하고 있습니다. | 청구되지 않음 |
| **`terminated`** | 인스턴스가 영구적으로 삭제되어 시작할 수 없습니다. | 청구되지 않음 |

</br>

- 참고 : 종료된 인스턴스에 적용된 예약된 인스턴스는 지불 옵션에 따라 기간이 끝날 때까지 청구됩니다.

</br>

![image](https://github.com/user-attachments/assets/6bfbd944-f0ee-445b-aa0b-6fe49e13207b)

</br>


## 참고문헌
* AWS EC2 Instance pricing comparison : https://ec2instances.github.io
* AWS Well-Architected Framework : https://d1.awsstatic.com/whitepapers/architecture/AWS-Reliability-Pillar.pdf
