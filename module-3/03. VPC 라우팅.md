# Amazon VPC 라우팅

***경로 테이블***에는 서브넷 또는 게이트웨이의 네트워크 트래픽이 어디로 전달되는지 결정하는 데 사용되는 *경로*라는 일련의 규칙이 포함되어 있습니다. 간단히 말해서, 경로 테이블은 네트워크 패킷이 목적지에 도착하기 위해 어느 방향으로 가야 하는지 알려줍니다.

### 주요 경로 표

VPC를 만들면 AWS는 메인 경로 테이블이라는 경로 테이블을 만듭니다. **경로 테이블**에는 네트워크 트래픽이 어디로 향하는지 결정하는 데 사용되는 경로라고 불리는 일련의 규칙이 포함되어 있습니다. AWS는 서브넷이 있는 새로운 VPC를 만들 때 트래픽이 그 사이에 흐르기를 원한다고 가정합니다. 따라서 주 경로 테이블의 기본 구성은 로컬 네트워크의 모든 서브넷 간의 트래픽을 허용하는 것입니다. 아래는 주 경로 표의 예입니다.

목적지와 대상은 이 경로 테이블의 두 가지 주요 부분입니다.

* **목적지**는 트래픽이 가고 싶은 IP 주소의 범위입니다. 편지를 보내는 예에서는 편지를 적절한 장소로 보낼 목적지가 필요합니다. 트래픽 라우팅도 마찬가지입니다. 이 경우 대상은 VPC 네트워크의 IP 범위입니다.

* **대상**은 트래픽을 보낼 연결입니다. 이 경우 트래픽은 로컬 VPC 네트워크를 통해 라우팅됩니다.
![image](https://github.com/user-attachments/assets/d6ef1856-bbd1-4746-be8e-d53e5a7b985b)


### 사용자 지정 경로 표

주 경로 테이블은 명시적인 경로 테이블 연결이 없는 서브넷에 의해 암시적으로 사용되지만, VPC 외부의 리소스에 액세스하는 트래픽에 대해 서브넷별로 다른 경로를 제공할 수 있습니다. 예를 들어, 애플리케이션은 프런트 엔드와 데이터베이스로 구성될 수 있습니다. 리소스에 대해 별도의 서브넷을 생성하고 각각에 대해 다른 경로를 제공할 수 있습니다.

사용자 지정 경로 테이블을 서브넷과 연결하면 서브넷이 기본 경로 테이블 대신 서브넷을 사용합니다. 생성한 각 사용자 지정 경로 테이블에는 이미 로컬 경로가 있어 VPC 내부의 모든 리소스와 서브넷 간에 통신이 흐를 수 있습니다. 로컬 경로는 삭제할 수 없습니다.
![image](https://github.com/user-attachments/assets/4bcbbed5-5c70-4be5-9724-62c0d85e3d12)
