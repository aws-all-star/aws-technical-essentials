**Amazon EFS(탄력 파일 시스템)** 는 **윈도우 EC2 인스턴스**에서 기본적으로 지원되지 않습니다. EFS는 주로 유닉스/리눅스 프로토콜인 **NFS(네트워크 파일 시스템)** 프로토콜을 사용합니다. Windows는 Linux 기반 시스템만큼 효율적으로 NFS를 지원하지 않기 때문에 EFS를 Windows 인스턴스에 직접 마운트할 수 없습니다.

![image](https://github.com/user-attachments/assets/54a1c501-14e0-472d-bca2-24735a8d06a3)

### **Windows Instance를 위한 대안**

Windows 인스턴스의 경우 AWS는 Windows 환경에서 일반적으로 사용되는 **SMB(서버 메시지 블록)** 프로토콜을 기반으로 구축된 완전 관리형 파일 저장 서비스인 Windows 파일 서버용 **Amazon FSx**를 제공합니다.

### **윈도우 파일 서버용 아마존 FSx**

- **목적**: Windows 파일 서버용 FSx는 기본 Windows 파일 공유 기능이 있는 공유 파일 시스템이 필요한 Windows 기반 워크로드를 위해 특별히 설계되었습니다.

- **프로토콜**: Windows 환경에서 파일 공유를 위한 표준 프로토콜인 **SMB**(버전 2.0 및 3.0)를 사용합니다.

- **기능**: Windows ACL, Active Directory(AD) 통합 및 기타 Windows 기능과의 완벽한 호환성을 제공합니다.

#### **Windows 파일 서버용 Amazon FSx의 주요 기능**:

- **완전 관리**: EFS와 마찬가지로 FSx는 완전히 관리되며 데이터가 증가함에 따라 자동으로 확장됩니다.

- **SMB 프로토콜 지원**: SMB에 대한 기본 지원으로 Windows Server와의 원활한 통합이 가능합니다.

- **Windows ACL**: Windows ACL을 통한 세밀한 액세스 제어를 지원합니다.

- **액티브 디렉토리와의 통합**: FSx는 **Microsoft AD** 또는 **AWS 디렉토리 서비스**와 통합되어 원활한 사용자 및 권한 관리를 제공합니다.

#### **Windows 인스턴스에서 FSx를 사용하는 방법:**

1. **Amazon FSx 파일 시스템 만들기**:

- **AWS 콘솔**으로 이동합니다.

- **아마존 FSx**로 이동합니다.

- **파일 시스템 만들기**를 선택하고 **Windows 파일 서버용 FSx**를 선택합니다.

- 파일 시스템을 **액티브 디렉토리**(AWS에서 관리하거나 자체 관리)와 통합하도록 구성합니다.

- 성능 및 저장 공간 구성을 선택합니다.

2. **윈도우 인스턴스에 FSx 장착**:

- FSx 파일 시스템이 생성되면 **DNS 이름**을 기록하세요.

- Windows EC2 인스턴스에서 **파일 탐색기** 또는 **PowerShell**을 사용하여 FSx 파일 시스템을 네트워크 드라이브로 매핑합니다.

- **파일 탐색기**를 열고 **이 PC** > **네트워크 드라이브 지도**를 클릭하세요.

- 폴더 경로에 FSx 파일 시스템의 **DNS 이름**을 입력하십시오(예: `\\fsx-dns-name\share`).

- 드라이브 문자를 지정하고 **마침**을 클릭하세요.

---

### **다른 EC2 인스턴스에 대한 AWS의 파일 저장 옵션 요약:**

- **아마존 EFS(탄력 파일 시스템)**: 리눅스 기반 인스턴스에 가장 적합합니다. NFS를 사용하며 여러 Linux 인스턴스가 파일에 대한 공유 액세스가 필요한 시나리오에 이상적입니다.

- **Amazon FSx for Windows File Server**: Windows 기반 인스턴스에 가장 적합합니다. SMB를 사용하며 공유 파일 시스템, Active Directory 통합 및 Windows ACL이 필요한 환경과 같은 Windows 관련 워크로드에 이상적입니다.

---

### **결론**:

Amazon EFS는 Windows EC2 인스턴스와 호환되지 않지만 **Amazon FSx for Windows File Server**는 Windows 인스턴스의 공유 파일 저장에 권장되는 솔루션입니다. SMB 및 Windows 관련 기능에 대한 기본 지원을 제공하므로 Windows 기반 워크로드에 가장 적합한 옵션입니다.

Windows용 FSx 또는 기타 파일 저장 솔루션 설정에 대한 추가 지침이 필요하면 알려주십시오!
