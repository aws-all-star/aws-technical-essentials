# 1. AWS 스토리지 유형
AWS 스토리지 서비스는 블록 스토리지, 파일 스토리지 및 개체 스토리지의 세 가지 범주로 분류됩니다. AWS 스토리지를 모든 데이터를 위한 클라우드 기반 솔루션이라고 생각하십시오. 여기에는 확장 가능하고 내구성이 뛰어나며 안전한 스토리지를 제공하는 Amazon Web Services의 서비스 제품군이 포함되어 있습니다. 활성 데이터를 관리하든 장기 기록을 보관하든 AWS 스토리지가 당신을 보호합니다. 고가용성, 신뢰성 및 유연한 종량제 가격을 통해 모든 규모의 비즈니스에서 데이터 저장을 효율적이고 비용 효율적으로 만들 수 있도록 설계되었습니다.</br>

## 1.1 File Storage
![이미지 1](https://github.com/user-attachments/assets/b713804f-a68f-4f45-82b4-920977d5a3ad)

macOS에서 Windows 파일 탐색기 또는 Finder와 같은 파일 저장 장치 시스템과 상호 작용한 적이 있다면 파일 저장 장치에 익숙할 것입니다. 파일은 폴더와 하위 폴더로 구성된 트리와 같은 계층 구조로 구성됩니다. 예를 들어 노트북에 수백 장의 고양이 사진이 있는 경우 고양이 사진이라는 폴더를 만들고 해당 폴더 안에 이미지를 배치하여 정리할 수 있습니다. 이러한 이미지가 응용 프로그램에서 사용될 것이라는 것을 알고 있으므로 Cat 사진 폴더를 응용 프로그램 파일이라는 다른 폴더 안에 배치할 수 있습니다.

각 파일에는 파일 이름, 파일 크기 및 파일이 생성된 날짜와 같은 메타데이터가 있습니다. 파일에는 경로도 있습니다. 예를 들어 computer/Application_files/Cat_photos/cats-03.png입니다. 파일을 검색해야 할 때 시스템은 경로를 사용하여 파일 계층에서 파일을 찾을 수 있습니다.
파일 저장 공간은 여러 호스트 컴퓨터에서 쉽게 공유하고 관리해야 하는 파일에 중앙 집중식으로 액세스해야 할 때 이상적입니다. 일반적으로 이 스토리지는 여러 호스트에 마운트되며 파일 잠금 및 기존 파일 시스템 통신 프로토콜과의 통합이 필요합니다.

파일 저장에 대한 일반적인 사용 사례는 다음과 같습니다.
* 대용량 콘텐츠 저장소
* 개발 환경
* 사용자 홈 디렉토리
</br>

## 1.2 Block Storage
![image](https://github.com/user-attachments/assets/d79ea009-806d-471b-98cc-a9c3e9b1cc59)

파일 저장소는 파일을 단일 단위로 취급하는 반면, 블록 저장소는 파일을 자체 주소를 가진 블록이라고 불리는 고정 크기의 데이터 청크로 분할합니다. 각 블록은 주소 지정이 가능하기 때문에 블록을 효율적으로 검색할 수 있습니다.
데이터가 요청되면 저장 시스템에서 주소를 사용하여 블록을 올바른 순서로 구성하여 요청자에게 다시 제시할 완전한 파일을 형성합니다. 주소 외부에서는 각 블록과 관련된 추가 메타데이터가 없습니다. 따라서 파일의 문자를 변경하려면 문자를 포함하는 블록 또는 파일의 조각을 변경하기만 하면 됩니다. 이러한 접근 용이성이 블록 스토리지 솔루션이 빠르고 대역폭을 적게 사용하는 이유입니다.

블록 스토리지는 대기 시간이 짧은 운영에 최적화되어 있기 때문에 대기 시간이 짧은 스토리지가 필요한 데이터베이스 또는 ERP(Enterprise Resource Planning) 시스템과 같은 고성능 엔터프라이즈 워크로드를 위한 일반적인 스토리지 선택입니다.
|구분| Amazon EBS | Instance Store(Storage)|
|---|-------------|-----------------------|
|연결방식|EBS서버를 통해 네트워크로 연결|물리적 연결|
|데이타저장| 비 휘발성 | 휘발성(제한적 이용, 임시 데이타 처리 |
|스냅샷 백업| 스냅샷 백업 가능(백업 데이타를 S3에 저장)|스냅샷 백업 불가(파일 또는 디렉토리 복사 형태로 백업|
</br>

## 1.3 Object Storage
![image](https://github.com/user-attachments/assets/9d70950b-98fd-4f25-a53b-925246c864fd)

개체는 파일과 마찬가지로 저장될 때 단일 데이터 단위로 취급됩니다. 그러나 파일 저장소와 달리 이러한 개체는 계층 구조가 아닌 평평한 구조에 저장됩니다. 각 개체는 고유 식별자가 있는 파일입니다. 이 식별자는 추가 메타데이터와 함께 데이터와 함께 번들로 저장됩니다. 개체에서 하나의 문자만 변경하는 것은 블록 저장소보다 더 어렵습니다. 파일에서 한 문자를 변경하려면 전체 파일을 업데이트해야 합니다.
개체 저장소를 사용하면 거의 모든 유형의 데이터를 저장할 수 있으며 저장된 개체 수에 제한이 없기 때문에 쉽게 확장할 수 있습니다. 개체 저장은 일반적으로 대용량 데이터 세트, 미디어 자산과 같은 구조화되지 않은 파일 및 사진과 같은 정적 자산을 저장할 때 유용합니다.
</br></br>

### 기존 전통적인 스토리지와 연관 관계
온프레미스 스토리지로 작업한 적이 있다면 블록, 파일 및 개체 스토리지에 이미 익숙할 것입니다.

* 클라우드의 블록 스토리지는 *직접 연결 스토리지(DAS)* 또는 *스토리지 영역 네트워크(SAN)*와 유사합니다.
* 파일 저장 시스템은 종종 *네트워크 연결 저장(NAS) 서버*로 지원됩니다.

기존 데이터 센터에 스토리지를 추가하는 것은 엄격한 프로세스입니다. 스토리지 솔루션을 구매, 설치 및 구성해야 합니다. 클라우드 컴퓨팅을 사용하면 프로세스가 더 유연해집니다. 몇 분 안에 스토리지 솔루션을 생성, 삭제 및 수정할 수 있습니다.
|구분| 파일 스토리지 | 블록 스토리지 | 오브젝트 스토리지 |
|---|-----------|-----------|---------------|
|연결방법|Network: LAN| Local IP | Network : Internet((HTTP/HTTPS)|
|서비스주체|파일서버 | 파일시스템 | WEB(Cloud) |
|약어|NAS| DAS 또는 SAN | OSD(Object Storage Device, Object-Based Storage Device)|
|AWS서비스|EFS, FSx for Windows|EBS/Instance Store|S3|
|활용사례|서버간에 데이타 공유|Local 데이타 저장 및 처리|다양한 목적(백업, 데이타레이크, 컨텐츠배포 등)|
</br>

# 2. 올바른 스토리지 서비스 선택

### 2.1. Amazon EC2 instance store
인스턴스 저장소는 일시적인 블록 저장소입니다. 이것은 EC2 인스턴스를 호스팅하는 동일한 물리적 서버에 존재하며 Amazon EC2에서 분리할 수 없는 사전 구성된 스토리지입니다. EC2 인스턴스를 위한 내장 드라이브라고 생각할 수 있습니다.

인스턴스 저장소는 일반적으로 버퍼, 캐시 및 스크래치 데이터와 같이 지속적으로 변경되는 정보의 *임시 저장*에 적합합니다. 지속적이거나 오래 지속되는 데이터를 위한 것이 아닙니다. Amazon EC2에서 분리할 수 있고 볼륨 크기를 늘리거나 스냅샷을 생성하는 것과 같이 더 많은 관리 유연성을 제공할 수 있는 영구적인 장기 블록 스토리지가 필요한 경우 Amazon EBS를 사용해야 합니다.

### 2.2. Amazon EBS
Amazon EBS는 자주 변경되고 인스턴스 정지, 종료 또는 하드웨어 장애를 통해 지속되어야 하는 데이터를 위한 것입니다. 아마존 EBS에는 *SSD 백업 볼륨*과 *HDD 백업 볼륨*의 두 가지 유형의 볼륨이 있습니다.

**SSD 백업 볼륨**은 다음과 같은 특성을 가지고 있습니다.:
* 성능은 IOPS(초당 입력/출력 작업)에 따라 달라짐
* 데이터베이스 및 부팅 볼륨과 같은 트랜잭션 워크로드에 이상적

**HDD 백업 볼륨**은 다음과 같은 특성을 가지고 있습니다.:
* 성능은 MB/s에 따라 다릅니다.
* 빅 데이터, 데이터 웨어하우스, 로그 처리 및 순차적 데이터 I/O와 같은 처리량이 많은 워크로드에 이상적입니다.

다른 서비스와 비교할 때 알아야 할 Amazon EBS의 몇 가지 중요한 기능은 다음과 같습니다.
* 그것은 *블록 스토리지*입니다.
* 당신은 당신이 제공하는 것에 대해 비용을 지불합니다 (당신은 미리 저장 공간을 제공해야 합니다).
* EBS 볼륨은 단일 가용성 영역의 여러 서버에 걸쳐 복제됩니다.
* 대부분의 EBS 볼륨은 한 번에 하나의 EC2 인스턴스에만 연결할 수 있습니다.

### 2.3. Amazon S3
데이터가 자주 변경되지 않는다면 Amazon S3는 비용 효율적이고 확장 가능한 스토리지 솔루션이 될 수 있습니다. Amazon S3는 정적 웹 콘텐츠 및 미디어, 백업 및 보관, 분석을 위한 데이터를 저장하는 데 이상적입니다. 또한 사용자 지정 도메인 이름으로 전체 정적 웹 사이트를 호스팅할 수 있습니다.
다음은 Amazon S3를 다른 서비스와 비교할 때 알아야 할 몇 가지 중요한 기능입니다.

* 그것은 *객체 저장소*이다.
* 당신은 당신이 사용하는 것에 대해 비용을 지불합니다 (당신은 미리 저장 공간을 제공할 필요가 없습니다).
* Amazon S3는 한 지역의 여러 가용성 영역에 걸쳐 개체를 복제합니다.
* Amazon S3는 컴퓨팅에 연결된 스토리지가 아닙니다.

### 2.4. Amazon Elastic File System (Amazon EFS) and Amazon FSx
S3는 플랫 네임스페이스를 사용하며 독립형 파일 시스템으로 사용하기 위한 것이 아니라는 것을 배웠습니다. 또한 대부분의 EBS 볼륨은 한 번에 하나의 EC2 인스턴스에만 연결할 수 있다는 것을 배웠습니다. 그렇다면 AWS에 파일 저장이 필요한 경우 어떤 서비스를 사용해야 합니까?
여러 EC2 인스턴스에 마운트할 수 있는 파일 저장소의 경우 *Amazon Elastic File System(Amazon EFS)* 또는 *Amazon FSx*를 사용할 수 있습니다. 다음 표에는 각 서비스에 대한 자세한 정보가 나와 있습니다.

<table>
	<thead>
		<tr>
			<th><span>서비스</span></th>
      <th><span>상세 내용</span></th>
      <th><span>FAQs</span></th>
		</tr>
	<thead>
		<tbody>
      <tr>
        <td><span><strong>Amazon Elastic File System (Amazon EFS)</strong></span></td>
        <td><span>완전히 관리되는 NFS 파일 시스템</span></td>
        <td><a href="https://aws.amazon.com/efs/faq/" rel="noopener noreferrer" target="_blank" tabindex="0" aria-hidden="false"><span>EFS FAQs</span></a></td>
      </tr>			
      <tr>
        <td><span><strong>Amazon FSx for Windows File Server</strong></span></td>
        <td><span>SMB 프로토콜을 지원하는 Windows Server에 구축된 완전 관리형 파일 서버</span></td>
        <td><a href="https://aws.amazon.com/fsx/windows/faqs/?nc=sn&amp;loc=8" rel="noopener noreferrer" target="_blank" tabindex="0" aria-hidden="false"><span>FSx for Windows File Server FAQs</span></a></td>
      </tr>
      <tr>
        <td><strong>Amazon FSx for Lustre</strong></td>
        <td>S3와 통합된 완전히 관리되는 Lustre 파일 시스템</td>
        <td><a href="https://aws.amazon.com/fsx/lustre/faqs/?nc=sn&amp;loc=5" rel="noopener noreferrer" target="_blank" tabindex="0" aria-hidden="false">FSx for Lustre FAQs</a></td>
      </tr>
		</tbody>
</table>

다음은 Amazon EFS와 Amazon FSx를 다른 서비스와 비교할 때 알아야 할 몇 가지 중요한 기능입니다.

* 그것은 *파일 저장소*입니다.
* 당신은 당신이 사용하는 것에 대해 비용을 지불합니다 (당신은 미리 저장 공간을 제공할 필요가 없습니다).
* Amazon EFS와 Amazon FSx는 여러 EC2 인스턴스에 마운트할 수 있습니다.
</br>

## 참고문헌
* [What Is Cloud Storage](https://aws.amazon.com/what-is-cloud-storage/)
* [Types of Cloud Storage](https://aws.amazon.com/what-is-cloud-object-storage/#types)
