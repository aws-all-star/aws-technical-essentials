# 3. Amazon EFS (Elastic File System)
Amazon Elastic File System(EFS)은 Amazon EC2 인스턴스와 함께 사용하기 위해 AWS에서 제공하는 완전히 관리되고 확장 가능한 파일 저장 서비스입니다. 여러 EC2 인스턴스에서 마운트할 수 있는 **공유 파일 시스템**을 제공하도록 설계되어 동일한 데이터에 동시에 액세스할 수 있습니다. EFS는 웹 서버, 콘텐츠 관리 시스템 및 빅 데이터 분석과 같이 여러 인스턴스가 데이터에 대한 공유 액세스가 필요한 사용 사례에 이상적입니다.

### EFS - Elastic File System 개요
- EFS는 많은 EC2 인스턴스에 마운트할 수 있는 관리형 NFS(네트워크 파일 시스템)
- EFS는 여러 AZ에서 EC2 인스턴스와 함께 작동
- EFS는 가용성이 높고 확장 가능하지만 EBS보다 더 비쌈(3x GP2)
- 사용 사례: 콘텐츠 관리, 웹 서비스, 데이터 공유, 워드프레스
- NFSv4.1 프로토콜 사용
- 보안 그룹을 사용하여 EFS 볼륨에 대한 액세스를 제어
- EFS는 Linux 기반 AMI(Windows가 아님)와만 호

### **Amazon EFS 주요 특징**:
- **완전 관리형**: AWS는 인프라, 확장 및 유지 관리를 처리하므로 애플리케이션에 집중
- **탄력적**: EFS는 저장된 데이터의 양에 따라 자동으로 확장 또는 축소되므로 저장 용량을 프로비저닝하거나 관리하는 것에 대해 걱정할 필요가 없음
- **동시 액세스**: EFS는 수천 개의 EC2 인스턴스에 마운트될 수 있어 공유 파일 액세스가 가능
- **내구성 및 가용성**: EFS는 가용성이 높고 내구성이 뛰어나도록 설계되어 여러 AZ(가용성 영역)에 걸쳐 데이터를 중복으로 저장
![image](https://github.com/user-attachments/assets/b2f4e42e-7033-4e8f-b63a-2026ecb53d80)

### **3.1 Amazon EFS vs. Amazon EBS**

#### **Amazon EFS (Elastic File System)**
- **유형**: 여러 EC2 인스턴스 간에 공유하도록 설계된 네트워크 파일 시스템
- **사용 사례**: 여러 인스턴스가 동일한 파일 시스템에서 동시에 읽고 써야 하는 워크로드에 이상적입니다(예: 콘텐츠 관리 시스템, 공유 개발 환경 및 빅 데이터 처리)
- **액세스**: 여러 AZ에서 여러 인스턴스의 동시 액세스를 지원
- **스케일 가능성**: 저장된 데이터의 양에 따라 자동으로 확장
- **가격**: 저장된 데이터의 양과 사용된 처리량/IOPS에 따라 청구
- **지속성**: 데이터는 여러 AZ에 걸쳐 중복 저장
- **성능 모드**: 표준 및 최대 I/O(고도 병렬 워크로드용)

#### **Amazon EBS (Elastic Block Store)**
- **유형**: 한 번에 단일 EC2 인스턴스에서 사용하도록 설계된 블록 스토리지(읽기 전용 모드에서 여러 인스턴스에 연결할 수 있지만)
- **사용 사례**: 데이터베이스, 트랜잭션 애플리케이션 및 단일 EC2 인스턴스에 대한 영구 스토리지와 같은 고성능 스토리지가 필요한 워크로드에 적합
- **액세스**: 일반적으로 단일 인스턴스에 연결되지만 특정 경우 다중 연결 모드에서 사용할 수 있음
- **스케일 가능성**: 크기를 조정하거나 더 많은 볼륨을 추가하여 수동으로 크기를 조정
- **가격**: 사용 여부에 관계없이 프로비저닝된 스토리지에 따라 청구
- **내구성**: 데이터는 단일 AZ 내에서 복제(스냅샷을 사용하여 S3에 백업할 수 있지만)
- **성능 모드**: SSD 백업 볼륨(성능용) 및 HDD 백업 볼륨(처리량용)
</br>

### **3.2 Amazon EFS의 사용 사례**
1. **웹 호스팅 및 콘텐츠 관리**: 공유 미디어 파일이 있는 웹사이트 및 콘텐츠 관리 시스템(CMS)은 여러 웹 서버가 동일한 저장소에 액세스할 수 있기 때문에 EFS를 사용하면 이점
2. **공유 개발 환경**: EFS는 여러 사용자 또는 인스턴스가 동일한 파일(예: 소스 코드 저장소 또는 공유 프로젝트 파일)에 동시에 액세스해야 하는 공유 개발 환경에 이상적
3. **빅 데이터 및 분석**: EFS는 데이터 처리 또는 분석을 위해 여러 인스턴스가 동시에 액세스해야 하는 대량의 데이터를 저장
4. **컨테이너 스토리지**: EFS는 컨테이너를 위한 공유 파일 시스템으로 사용될 수 있으며, 이를 통해 서로 다른 인스턴스에 걸쳐 지속적인 데이터를 저장하고 액세스


