# **실습 1: IAM 사용자 및 그룹 생성**
## **목표:**
- IAM 사용자 및 그룹 생성
- AWS 관리 정책을 사용하여 권한을 할당
- 신규 사용자로 로그인하여 액세스를 테스트

## **단계:**
1. **IAM 그룹 생성**
   - **IAM 대시보드**로 이동합니다.
   - **그룹** > **새 그룹 만들기**를 클릭하세요.
   - **그룹 이름**: `Developers`

   - **정책 첨부**:
      - `AmazonEC2FullAccess`와 `AmazonS3FullAccess`를 선택

   - **그룹 만들기**를 클릭합니다.


2. **IAM 사용자 생성**
   - **사용자** > **사용자 추가**로 이동합니다.
   - **사용자 이름**: `alice`, `bob`.
   - **접근 유형**:
     - **Programmatic access**(API, CLI, SDK용)를 확인하세요.
      - **AWS Management Console access**를 확인하세요.

- **콘솔 비밀번호**:
   - **Autogenerated passwor**를 선택하거나 사용자 지정 비밀번호를 설정합니다.
   - **Next: Permissions**을 클릭하십시오.

3. **사용자를 그룹에 추가**
   - **권한** 페이지에서 **사용자를 그룹에 추가**를 선택합니다.

- `개발자` 그룹을 선택하세요.

- **다음: 태그**(선택 사항)를 클릭한 다음 **다음: 검토**를 클릭하고 **사용자 만들기**를 클릭합니다.

4. **자격 증명 검색**

- 사용자의 액세스 키와 비밀번호가 포함된 `.csv` 파일을 다운로드하세요.

- **참고**: 자격 증명을 안전하게 저장하십시오.

5. **사용자 접근 테스트**

- AWS 콘솔에서 로그아웃합니다.

- `alice`의 자격 증명으로 **IAM 사용자 로그인 URL**을 사용하여 로그인합니다.

- `alice`가 EC2 및 S3 서비스에 액세스할 수 있는지 확인하십시오.

### **실습서 2: IAM 역할 생성 및 EC2 인스턴스에 할당하기**

#### **목표:**

- EC2 인스턴스가 S3에 접근할 수 있도록 하는 IAM 역할을 생성합니다.

- 이 역할로 EC2 인스턴스를 실행합니다.

- 액세스 키를 사용하지 않고 EC2 인스턴스에서 S3에 액세스합니다.

#### **단계:**

1. **IAM 역할 생성**

- **IAM 대시보드**에서 **역할** > **역할 생성**으로 이동합니다.

- **신뢰할 수 있는 법인 유형 선택**: **AWS 서비스**를 선택합니다.

- **일반적인 사용 사례**: **EC2**를 선택하세요.

- **다음: 권한**을 클릭하십시오.

- **정책 첨부**:

- `AmazonS3ReadOnlyAccess`를 선택하세요.

- **다음: 태그**(선택 사항)를 클릭한 다음 **다음: 검토**를 클릭합니다.

- **역할 이름**: `EC2S3ReadOnlyRole`.

- **역할 생성**을 클릭합니다.

2. **IAM 역할로 EC2 인스턴스를 런칭합니다**

- **EC2 대시보드** > **인스턴스** > **실시 인스턴스**로 이동합니다.

- **AMI**: Amazon Linux 2 AMI를 선택하세요.

- **인스턴스 유형**: `t2.micro`를 선택하세요.

- **인스턴스 세부 정보 구성**:

- **IAM 역할** 드롭다운에서 `EC2S3ReadOnlyRole`을 선택합니다.

- **보안 그룹 구성**:

- **참고**: 액세스 키를 구성하지 않고 S3 버킷 목록을 볼 수 있습니다.



# **실습 1: Implementing IAM Best Practices**

## **구성목표:**
- IAM 사용자에 대해 MFA를 활성화합니다.
- 강력한 암호 정책을 설정하세요.
- 사용자 관리 정책을 만듭니다.

## **실행단계:**

1. **IAM 사용자를 위한 MFA 활성화**
- **IAM 대시보드**에서 **사용자**로 이동합니다.
- 사용자 `alice`를 선택하세요.
- **보안 자격 증명** 탭으로 이동합니다.
- **할당된 MFA 기기** 아래에서 **MFA 관리**를 클릭합니다.
- **가상 MFA 장치**를 선택합니다.
- 인증 앱(예: Google Authenticator)을 사용하여 QR 코드를 스캔하세요.
- 앱에서 두 개의 연속적인 MFA 코드를 입력합니다.
- **Assign MFA**를 클릭합니다.

2. **암호 정책 설정**
- **IAM 대시보드**에서 **계정 설정**을 선택합니다.
- **암호 정책** 아래에서 **암호 정책 설정**을 클릭합니다.
- 설정 구성:
  - 1개 이상의 대문자가 필요
  - 1개 이상의 숫자가 필요
  - 1개 이상의 영숫자가 아닌 문자가 필요합니다.
  - 최소 비밀번호 길이: 12자
  - 비밀번호 만료 활성화(예: 90일마다).

- **암호 정책 적용**을 클릭하세요.

3. **고객 관리 정책 생성**

- **정책** > **정책 만들기**로 이동합니다.

- **비주얼 에디터** 또는 **JSON**: 비주얼 에디터를 사용하세요.

- **서비스**: **EC2**를 선택합니다.

- **작업**: `StartInstances` 및 `StopInstances`와 같은 특정 작업을 선택하십시오.

- **리소스**: 리소스를 지정하거나 **모든 리소스**를 선택합니다.

- **정책 검토**를 클릭합니다.

- **이름**: `EC2StartStopPolicy`.

- **설명**: EC2 인스턴스를 시작하고 중지할 수 있습니다.

- **정책 생성**을 클릭합니다.

4. **사용자 또는 그룹에 정책 첨부**

- **사용자** 또는 **그룹**으로 이동합니다.

- `alice` 또는 `개발자` 그룹을 선택하세요.

- **권한** 탭으로 이동합니다.

- **권한 추가** > **기존 정책을 직접 첨부**를 클릭합니다.

- `EC2StartStopPolicy`를 검색하세요.

- 선택하고 **권한 추가**를 클릭합니다.

---

## **결론**

AWS IAM은 AWS 환경을 보호하는 데 중요한 역할을 하는 기본 서비스입니다. 사용자, 그룹, 역할 및 정책을 효과적으로 관리하고 모범 사례를 따르면 리소스가 보호되고 사용자가 작업을 수행할 수 있는 적절한 액세스 권한이 있는지 확인할 수 있습니다.

